# トラブルシューティングガイド

「リポジトリの取得に失敗しました」というエラーが表示される場合の対処法です。

## 🔍 エラーの原因を確認

ブラウザの開発者ツール（F12キー）を開き、Consoleタブでエラーメッセージを確認してください。

### よくあるエラーと対処法

#### 1. `404 Not Found` - 組織が見つからない

**原因:**
- 組織名が間違っている
- 組織が存在しない

**対処法:**
1. `script.js` の `ORGANIZATION` 定数を確認
2. GitHubで組織 `https://github.com/kwu-cms` が存在するか確認
3. 組織名が正しいか確認（大文字小文字、ハイフンなど）

#### 2. `403 Forbidden` - レート制限

**原因:**
- GitHub APIのレート制限に達した（認証なしで1時間60リクエスト）

**対処法:**
1. 1時間待ってから再度アクセス
2. ブラウザをリロード（F5キー）
3. 再試行ボタンをクリック

**レート制限を回避する方法:**
- GitHub Personal Access Tokenを使用してAPIを呼び出す（推奨）
- GitHub Actionsを使用してデータをキャッシュする

#### 3. `403 Forbidden` - アクセス権限がない

**原因:**
- 組織がプライベートで、アクセス権限がない
- 組織の設定でAPIアクセスが制限されている

**対処法:**
1. 組織のメンバーであることを確認
2. 組織の設定でAPIアクセスが許可されているか確認

#### 4. ネットワークエラー

**原因:**
- インターネット接続の問題
- CORSエラー（GitHub APIはCORSを許可しているため、通常は発生しません）

**対処法:**
1. インターネット接続を確認
2. ファイアウォールやプロキシの設定を確認
3. 別のネットワークで試す

## 🛠️ デバッグ方法

### 1. ブラウザのコンソールで確認

1. ブラウザでF12キーを押して開発者ツールを開く
2. Consoleタブを選択
3. エラーメッセージを確認

### 2. ネットワークタブで確認

1. 開発者ツールのNetworkタブを開く
2. ページをリロード
3. `api.github.com` へのリクエストを確認
4. ステータスコードとレスポンスを確認

### 3. APIを直接テスト

ブラウザで以下のURLにアクセスして、APIが正常に動作するか確認：

```
https://api.github.com/orgs/kwu-cms/repos?per_page=100&sort=updated&type=all
```

正常な場合、JSON形式でリポジトリ一覧が表示されます。

## 🔧 解決方法

### 方法1: 組織名を確認

`script.js` の2行目を確認：

```javascript
const ORGANIZATION = 'kwu-cms';
```

組織名が異なる場合は修正してください。

### 方法2: GitHub APIのレート制限を確認

以下のURLにアクセスして、レート制限の状態を確認：

```
https://api.github.com/rate_limit
```

`remaining` が `0` の場合は、`reset` の時刻まで待つ必要があります。

### 方法3: Personal Access Tokenを使用（推奨）

レート制限を回避するために、GitHub Personal Access Tokenを使用できます。

1. GitHubでPersonal Access Tokenを作成
2. `script.js` を修正してトークンを使用（ただし、クライアント側にトークンを公開するのはセキュリティ上推奨されません）

**注意:** クライアント側（ブラウザ）でPATを使用するのはセキュリティリスクがあります。代わりに、GitHub Actionsを使用してデータをキャッシュする方法を検討してください。

### 方法4: GitHub Actionsでデータをキャッシュ

GitHub Actionsを使用して、定期的にリポジトリ情報を取得し、JSONファイルとして保存する方法があります。これにより、APIのレート制限を回避できます。

## 📝 エラーメッセージの詳細

改善されたエラーハンドリングにより、以下の情報が表示されます：

- HTTPステータスコード
- エラーの種類（404、403など）
- レート制限の残り回数
- レート制限のリセット時刻

## 🆘 それでも解決しない場合

1. ブラウザのキャッシュをクリア
2. 別のブラウザで試す
3. シークレットモード（プライベートブラウジング）で試す
4. GitHubのステータスページを確認: https://www.githubstatus.com/

## 📞 サポート

問題が解決しない場合は、以下を確認してください：

1. GitHub組織が存在するか
2. 組織がパブリックか、アクセス権限があるか
3. GitHub APIのステータスが正常か
